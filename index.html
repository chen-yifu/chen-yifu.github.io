<!DOCTYPE html>
    <html>
    <head>
    	<title>Yifu "Charles" Chen</title>
        <link rel="shortcut icon" type="image/x-icon" href="favicon.ico?">
    	<style type="text/css">
    		html {
    			overflow: auto;
    		}  		
    		html,
    		body,
    		div,
    		iframe {
    			margin: 0px;
    			padding: 0px;
    			height: 100%;
    			border: none;
    		}	
    		iframe {
    			display: block;
    			width: 100%;
    			border: none;
    			overflow-y: auto;
    			overflow-x: hidden;
    		}
    	</style>
    </head>
	<body onload="detect()">
		<div class="wrapper">
			<h2>Is this a Private Browsing window?</h2>
			<div id="answer"><br /></div>
			<br />
			<div>
				<p>Powered by <a href="https://github.com/Joe12387/detectIncognito">detectIncognito.js</a>.</p>
			</div>
		</div>
		<script>
			function getModeName(browserName) {
				switch (browserName) {
					case "Safari for macOS":
					case "Firefox":
					case "Brave":
					case "Opera":
						return "a Private Window";
						break;
					case "Safari for iOS":
						return "a Private Tab";
						break;
					case "Chrome":
					case "Chromium":
						return "an Incognito Window";
						break;
					case "Internet Explorer":
					case "Edge":
						return "an InPrivate Window";
						break;
				}
				throw new Error("Could not get mode name");
			}

			function detect() {
				var a = document.getElementById("answer");
				detectIncognito().then(function (result) {
					if (result.isPrivate) {
						a.innerHTML = "<b>Yes</b>. You are using " + result.browserName + " in " + getModeName(result.browserName) + ".";
					} else {
						a.innerHTML = "<b>No</b>. You are using " + result.browserName + " in a regular browser window.";
					}
				}).catch(function (error) {
					a.innerHTML = "There was an error. Check console for further information.";
					console.log(error);
				});
			}
		</script>
	<script src="detectIncognito.js"></script>
    <iframe src="https://share.streamlit.io/chen-yifu/personal_website/main/main.py"
                sandbox="allow-same-origin allow-scripts"
    			frameborder="0"
    			marginheight="0"
    			marginwidth="0"
    			width="100%"
    			height="100%"
    			scrolling="auto"
                id="myFrame">
    </iframe>
    <script>
//         setTimeout(() => {
//             console.log("Trying to hide element");
//             var iframe = document.getElementById("myFrame");
//             iframe.contentWindow.document.getElementsByClassName('viewerBadge_container__1QSob')[0].style.visibility = 'hidden';
//             console.log("Element was hidden");
//         }, 5000)
        var frame = document.getElementById("myFrame")
        frame.contentWindow.postMessage("loading site!", "https://share.streamlit.io/chen-yifu/personal_website/main/main.py");
    </script>
    </body>
    </html>
